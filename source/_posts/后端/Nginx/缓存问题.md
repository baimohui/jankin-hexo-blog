---
title: 疑似缓存问题
categories:
- Nginx
tags:
- Nginx
- 缓存
- 性能优化
- Nuxt
---

在 nginx 服务器上准备调试 Nuxt 项目时，打开浏览器却发生了下图的情形。可以看到，样式发生明显错乱，图片资源也没有加载出来。而我在本地代码调试时，显示效果是正常的。在反复确认本地代码和服务端上的代码并无二致后，查看报错信息发现引入的 css文件、js文件以及图片资源都没有加载出来。<!--more-->

![image-20210701202150499](https://cdn.jsdelivr.net/gh/baimohui/FigureBed/img/20210701202150.png)

我突然想到前几天在公司配置了服务器的缓存策略，要缓存的资源类型恰好就是这三种，于是打开配置文件显示如下：

![image-20210701203407372](https://cdn.jsdelivr.net/gh/baimohui/FigureBed/img/20210701203407.png)

感觉是浏览器在查找缓存资源无果后，返回了报错信息。想到的第一个做法是重启服务器，然而这并没有解决问题，看来并不是服务器突然抽风导致的问题。于是，我把这段缓存配置删掉后再次重启服务器，页面随之恢复正常。

考虑到之前在公司配置测试时并没有问题，而在学校测试却出了状况。目前的调查结果是，我并没有真正把 nuxt 项目部署到服务器上，每次都必须通过指令来让其运行。先把 nuxt 项目部署上去再留待观察。



